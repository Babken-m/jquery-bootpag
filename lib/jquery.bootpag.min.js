/*

 bootpag - jQuery plugin for dynamic pagination

 Copyright (c) 2013 botmonster@7items.com

 Licensed under the MIT license:
   http://www.opensource.org/licenses/mit-license.php

 Project home:
   http://botmonster.com/jquery-bootpag/

 Version:  1.0.4

*/
(function(b,a){b.fn.bootpag=function(d){var g=this,e=b.extend({total:0,page:1,maxVisible:null,leaps:true,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:false,first:"First",last:"Last"},g.data("settings")||{},d||{});if(e.total<=0){return this}if(!b.isNumeric(e.maxVisible)&&!e.maxVisible){e.maxVisible=e.total}g.data("settings",e);function f(h,r){var o,j=e.maxVisible==0?1:e.maxVisible,l=e.maxVisible==1?0:1,i=Math.floor((r-1)/j)*j,n=h.find("li");e.page=r=r<0?0:r>e.total?e.total:r;n.removeClass("active");o=r-1<1?1:e.leaps&&r-1>=e.maxVisible?Math.floor((r-1)/j)*j:r-1;if(e.firstLastUse){n.first().toggleClass("disabled",r===1)}var p=n.first();if(e.firstLastUse){p=p.next()}p.toggleClass("disabled",r===1).attr("data-lp",o).find("a").attr("href",c(o));var l=e.maxVisible==1?0:1;o=r+1>e.total?e.total:e.leaps&&r+1<e.total-e.maxVisible?i+e.maxVisible+l:r+1;var m=n.last();if(e.firstLastUse){m=m.prev()}m.toggleClass("disabled",r===e.total).attr("data-lp",o).find("a").attr("href",c(o));n.last().toggleClass("disabled",r===e.total);var k=n.filter("[data-lp="+r+"]");if(!k.not(".next,.prev,.last,.first").length){var q=r<=i?-e.maxVisible:0;n.not(".next,.prev,.last,.first").each(function(s){o=s+1+i+q;b(this).attr("data-lp",o).toggle(o<=e.total).find("a").html(o).attr("href",c(o))});k=n.filter("[data-lp="+r+"]")}k.addClass("active");g.trigger("page",r);g.data("settings",e)}function c(h){return e.href.replace(e.hrefVariable,h)}return this.each(function(){var j,i,k=b(this),l=['<ul class="bootpag">'];if(e.firstLastUse){l.push('<li data-lp="1" class="first"><a href="'+c(1)+'">'+e.first+"</a></li>")}if(e.prev){l.push('<li data-lp="1" class="prev"><a href="'+c(1)+'">'+e.prev+"</a></li>")}for(var m=1;m<=Math.min(e.total,e.maxVisible);m++){l.push('<li data-lp="'+m+'"><a href="'+c(m)+'">'+m+"</a></li>")}if(e.next){i=e.leaps&&e.total>e.maxVisible?Math.min(e.maxVisible+1,e.total):2;l.push('<li data-lp="'+i+'" class="next"><a href="'+c(i)+'">'+e.next+"</a></li>")}if(e.firstLastUse){l.push('<li data-lp="'+e.total+'" class="last"><a href="'+c(e.total)+'">'+e.last+"</a></li>")}l.push("</ul>");k.find("ul.bootpag").remove();k.append(l.join("")).addClass("pagination");j=k.find("ul.bootpag");k.find("li").click(function h(){var n=b(this);if(n.hasClass("active")||n.hasClass("disabled")){return}f(j,parseInt(n.attr("data-lp"),10))});f(j,e.page)})}})(jQuery,window);
